# Capítulo IV: Product Design
## 4.1. Style Guidelines.
En esta sección establecemos las bases de diseño visual y de interacción para nuestra plataforma Hairy Paws, definiendo un repositorio centralizado de recursos que asegurarán la consistencia en todas las interfaces y experiencias del usuario.
### 4.1.1. General Style Guidelines.

La marca Hairy Paws se ha diseñado para transmitir confianza, calidez y profesionalismo, elementos fundamentales para una plataforma dedicada a la adopción responsable de mascotas.

**Logo**
[![image.png](https://i.postimg.cc/Pry3jn7r/image.png)](https://postimg.cc/Yh4f6ZkJ)

**Assets**
[![image.png](https://i.postimg.cc/nrkkpq0w/image.png)](https://postimg.cc/N2KTx2h1)

**Images**
[![image.png](https://i.postimg.cc/VsB4qcmB/image.png)](https://postimg.cc/NLF1tSy5)

**Typography**
[![image.png](https://i.postimg.cc/4yJ6Lmsv/image.png)](https://postimg.cc/MMFfXZcX)

**Color**
[![image.png](https://i.postimg.cc/d348zwVb/image.png)](https://postimg.cc/rRR046Wj)

### 4.1.2. Web Style Guidelines.

**Logo**
[![image.png](https://i.postimg.cc/Pry3jn7r/image.png)](https://postimg.cc/Yh4f6ZkJ)

**Assets**
[![image.png](https://i.postimg.cc/nrkkpq0w/image.png)](https://postimg.cc/N2KTx2h1)

**Images**
[![image.png](https://i.postimg.cc/VsB4qcmB/image.png)](https://postimg.cc/NLF1tSy5)

**Typography**
[![image.png](https://i.postimg.cc/4yJ6Lmsv/image.png)](https://postimg.cc/MMFfXZcX)

**Color**
[![image.png](https://i.postimg.cc/d348zwVb/image.png)](https://postimg.cc/rRR046Wj)

### 4.1.3. Mobile Style Guidelines.
#### 4.1.3.1. iOS Mobile Style Guidelines.

**Logo**
[![image.png](https://i.postimg.cc/Pry3jn7r/image.png)](https://postimg.cc/Yh4f6ZkJ)

**Assets**
[![image.png](https://i.postimg.cc/nrkkpq0w/image.png)](https://postimg.cc/N2KTx2h1)

**Images**
[![image.png](https://i.postimg.cc/VsB4qcmB/image.png)](https://postimg.cc/NLF1tSy5)

**Typography**
[![image.png](https://i.postimg.cc/4yJ6Lmsv/image.png)](https://postimg.cc/MMFfXZcX)

**Color**
[![image.png](https://i.postimg.cc/d348zwVb/image.png)](https://postimg.cc/rRR046Wj)

#### 4.1.3.2. Android Mobile Style Guidelines.

**Logo**
[![image.png](https://i.postimg.cc/Pry3jn7r/image.png)](https://postimg.cc/Yh4f6ZkJ)

**Assets**
[![image.png](https://i.postimg.cc/nrkkpq0w/image.png)](https://postimg.cc/N2KTx2h1)

**Images**
[![image.png](https://i.postimg.cc/VsB4qcmB/image.png)](https://postimg.cc/NLF1tSy5)

**Typography**
[![image.png](https://i.postimg.cc/4yJ6Lmsv/image.png)](https://postimg.cc/MMFfXZcX)

**Color**
[![image.png](https://i.postimg.cc/d348zwVb/image.png)](https://postimg.cc/rRR046Wj)

## 4.2. Information Architecture.
La Arquitectura de Información de Hairy Paws está diseñada para facilitar que todos los usuarios encuentren lo que necesitan de manera intuitiva y eficiente, independientemente de su rol o dispositivo.

### 4.2.1. Organization Systems.

Hemos implementado diferentes sistemas de organización según las necesidades específicas de cada sección y tipo de contenido.

**_Organización Jerárquica:_**

- **Página principal:** Estructura visual jerárquica que destaca las funcionalidades principales según importancia (adopción > donación > eventos)
- **Perfiles de mascotas:** Jerarquía visual que prioriza fotos, información básica, seguida de detalles específicos y requisitos

**_Organización Secuencial:_**

- **Proceso de registro:** Flujo paso a paso para completar el perfil
- **Solicitud de adopción:** Secuencia lógica desde búsqueda hasta confirmación
- **Publicación de mascota:** Proceso secuencial para crear anuncios completos

**_Organización Matricial:_**

- **Búsqueda de mascotas:** Combinación de filtros (especie, tamaño, edad, ubicación) que permiten navegación multidimensional

### 4.2.2. Labeling Systems.

Nuestro sistema de etiquetado está diseñado para ser intuitivo, consistente y significativo para los usuarios, minimizando la carga cognitiva y facilitando la navegación.

**Etiquetas principales:**

_Secciones de navegación:_

- "PETS" 
- "NOTIFICATIONS"
- "ORGANIZATIONS"
- "PROFILE"

_Acciones principales:_

- "Visit"
- "Adopt"
- "Confirm"

_Estados:_

- "Available" / "Adopted"
- "Pending" / "Approved" / "Rejected"

_Consistencia terminológica:_

- Use of "pet"
- "Owner" (not "proprietor" or "caregiver")
- "Adopter" (not "interested" or "new owner")
- "NGO" (not "association" or "foundation")

_Asociaciones de etiquetas:_

- "Notifications" for alerts and messages
- "Verification" related to validation processes



### 4.2.3. SEO Tags and Meta Tags



### 4.2.4. Searching Systems.

Nuestro sistema de búsqueda está diseñado para ayudar a los usuarios a encontrar mascotas compatibles con sus preferencias y necesidades de manera eficiente.

**Búsqueda principal de mascotas:**

**_Filtros:_**

- Name
- Age
- Type
- Breed


**_Presentación de resultados:_**

- Vista de cuadrícula con foto prominente
- Información básica visible (Type, Breed, Age)

**_Búsqueda de ONGs:_**

- Filtro por "name"
- Filtro por "description"


**_Búsqueda de eventos:_**

- Filtro por "date
- Filtro por "name"
- Filtro por "volunteer"

### 4.2.5. Navigation Systems.

Nuestro sistema de navegación está diseñado para ser intuitivo, consistente y facilitar el flujo natural de los usuarios a través de la plataforma.

**Navegación global (Web y Móvil):**

**_Header (Web):_**

- Logo
- Menú principal: Pets, Notifications, Organizations, Profile

[![image.png](https://i.postimg.cc/g26cxpZm/image.png)](https://postimg.cc/CRSp2W7Q)

**Navegación móvil (iOS y Android):**

**_Tab bar/Bottom navigation con 4 ítems principales:_**

- Pets
- Notifications
- Organizations
- Profile

[![image.png](https://i.postimg.cc/G231xnHB/image.png)](https://postimg.cc/VShTzT91)


## 4.3. Landing Page UI Design.

Nuestra landing page está diseñada para presentar de manera efectiva el propósito y valor de Hairy Paws, con un enfoque en la conversión de visitantes a usuarios registrados.

### 4.3.1. Landing Page Wireframe.

[![image.png](https://i.postimg.cc/mgQfxg9z/image.png)](https://postimg.cc/CRL6kYmS)
[![image.png](https://i.postimg.cc/s2ckXHw3/image.png)](https://postimg.cc/McnP3DCL)
[![image.png](https://i.postimg.cc/J7g9GkcH/image.png)](https://postimg.cc/pyf0SySP)
[![image.png](https://i.postimg.cc/7Y2j7Zms/image.png)](https://postimg.cc/0b9t1PgD)
[![image.png](https://i.postimg.cc/Vk9TGHyX/image.png)](https://postimg.cc/dh14D6V0)
[![image.png](https://i.postimg.cc/q7jF0hvR/image.png)](https://postimg.cc/zLH7FfWZ)

### 4.3.2. Landing Page Mock-up.

[![image.png](https://i.postimg.cc/15DsSBh3/image.png)](https://postimg.cc/RNCjQcZk)
[![image.png](https://i.postimg.cc/fL6Qnt8d/image.png)](https://postimg.cc/DJdM1Zkf)
[![image.png](https://i.postimg.cc/yYCCLRg4/image.png)](https://postimg.cc/XXLPJpkQ)
[![image.png](https://i.postimg.cc/j5nBXqRS/image.png)](https://postimg.cc/WFj9pvDB)
[![image.png](https://i.postimg.cc/3Ng6sL4M/image.png)](https://postimg.cc/XBYQFkkx)
[![image.png](https://i.postimg.cc/xjHWNdss/image.png)](https://postimg.cc/G9LMZbnY)

## 4.4. Mobile Applications UX/UI Design.
### 4.4.1. Mobile Applications Wireframes.
[![image.png](https://i.postimg.cc/cLSHzBsd/image.png)](https://postimg.cc/zVx8bWbQ)
[![image.png](https://i.postimg.cc/yNf8kq0N/image.png)](https://postimg.cc/HJyghhZG)
[![image.png](https://i.postimg.cc/859kmhKQ/image.png)](https://postimg.cc/bD0jz2f3)

### 4.4.2. Mobile Applications Wireflow Diagrams.

**User Goal: Encontrar y solicitar la adopción de una mascota compatible**
[![image.png](https://i.postimg.cc/DymdZFsS/image.png)](https://postimg.cc/kB3t10TC)

**User Goal: Publicar una mascota para reubicación**
[![image.png](https://i.postimg.cc/sfPDhZY8/image.png)](https://postimg.cc/MXTSkHrb)

**User Goal: Mandar donación a ONG**
[![image.png](https://i.postimg.cc/hPpDCW31/image.png)](https://postimg.cc/nC9fz5xX)

**User Goal: Aceptar o rechazar una adopción o visita**
[![image.png](https://i.postimg.cc/wM9zV0Xr/image.png)](https://postimg.cc/mzpKZ363)


### 4.4.3. Mobile Applications Mock-ups.
[![image.png](https://i.postimg.cc/mr6TTYGz/image.png)](https://postimg.cc/94T6pq0C)
[![image.png](https://i.postimg.cc/MKbxn2S8/image.png)](https://postimg.cc/crHPzzCD)
[![image.png](https://i.postimg.cc/tCyGQSVv/image.png)](https://postimg.cc/QV6ycqmc)

### 4.4.4. Mobile Applications User Flow Diagrams.

**User Goal: Encontrar y solicitar la adopción de una mascota compatible**
[![image.png](https://i.postimg.cc/DymdZFsS/image.png)](https://postimg.cc/kB3t10TC)

**User Goal: Publicar una mascota para reubicación**
[![image.png](https://i.postimg.cc/sfPDhZY8/image.png)](https://postimg.cc/MXTSkHrb)

**User Goal: Mandar donación a ONG**
[![image.png](https://i.postimg.cc/hPpDCW31/image.png)](https://postimg.cc/nC9fz5xX)

**User Goal: Aceptar o rechazar una adopción o visita**
[![image.png](https://i.postimg.cc/wM9zV0Xr/image.png)](https://postimg.cc/mzpKZ363)


### 4.4.3. Mobile Applications Mock-ups.
[![image.png](https://i.postimg.cc/mr6TTYGz/image.png)](https://postimg.cc/94T6pq0C)
[![image.png](https://i.postimg.cc/MKbxn2S8/image.png)](https://postimg.cc/crHPzzCD)
[![image.png](https://i.postimg.cc/tCyGQSVv/image.png)](https://postimg.cc/QV6ycqmc)

## 4.5. Mobile Applications Prototyping.
### 4.5.1. Android Mobile Applications Prototyping.
### 4.5.2. iOS Mobile Applications Prototyping.

## 4.6. Web Applications UX/UI Design.
### 4.6.1. Web Applications Wireframes.

[![image.png](https://i.postimg.cc/DyFDSS6x/image.png)](https://postimg.cc/pyGk7Xgj)

### 4.6.2. Web Applications Wireflow Diagrams.

**User Goal: Encontrar y solicitar la adopción de una mascota compatible**
[![image.png](https://i.postimg.cc/t4xcsFPn/image.png)](https://postimg.cc/BjJpyLmJ)

**User Goal: Publicar una mascota para reubicación**
[![image.png](https://i.postimg.cc/bvfBkdHC/image.png)](https://postimg.cc/xXg5SfZM)

**User Goal: Mandar donación a ONG**
[![image.png](https://i.postimg.cc/6qF0K1Mj/image.png)](https://postimg.cc/D4dsd5kL)

**User Goal: Aceptar o rechazar una adopción o visita**
[![image.png](https://i.postimg.cc/W1LnfCFt/image.png)](https://postimg.cc/dL6rhW9K)

### 4.6.3. Web Applications Mock-ups.
[![image.png](https://i.postimg.cc/t4McT2Yj/image.png)](https://postimg.cc/gx3styVS)

### 4.6.4. Web Applications User Flow Diagrams.

**User Goal: Encontrar y solicitar la adopción de una mascota compatible**
[![image.png](https://i.postimg.cc/t4xcsFPn/image.png)](https://postimg.cc/BjJpyLmJ)

**User Goal: Publicar una mascota para reubicación**
[![image.png](https://i.postimg.cc/bvfBkdHC/image.png)](https://postimg.cc/xXg5SfZM)

**User Goal: Mandar donación a ONG**
[![image.png](https://i.postimg.cc/6qF0K1Mj/image.png)](https://postimg.cc/D4dsd5kL)

**User Goal: Aceptar o rechazar una adopción o visita**
[![image.png](https://i.postimg.cc/W1LnfCFt/image.png)](https://postimg.cc/dL6rhW9K)

### 4.6.3. Web Applications Mock-ups.
[![image.png](https://i.postimg.cc/t4McT2Yj/image.png)](https://postimg.cc/gx3styVS)

## 4.7. Web Applications Prototyping.

## 4.8. Domain-Driven Software Architecture.
### 4.8.1. Software Architecture Context Diagram.

[![image.png](https://i.postimg.cc/SQ152Mqb/image.png)](https://postimg.cc/vD9XCDc0)

### 4.8.2. Software Architecture Container Diagrams.

[![image.png](https://i.postimg.cc/hGfjbm6W/image.png)](https://postimg.cc/v1wbG4G3)

### 4.8.3. Software Architecture Components Diagrams.

- **Auth Container** 
[![image.png](https://i.postimg.cc/J0qMW7v5/image.png)](https://postimg.cc/1VfLGS98)

- **Notification Container** 
[![image.png](https://i.postimg.cc/RVg4sFcM/image.png)](https://postimg.cc/RNJkqvs8)

- **ONG Container** 
[![image.png](https://i.postimg.cc/YCVk7snZ/image.png)](https://postimg.cc/9DGstJjY)

- **User Container** 
[![image.png](https://i.postimg.cc/SsLpWNSb/image.png)](https://postimg.cc/TLPSxx5t)

- **Donation Container** 
[![image.png](https://i.postimg.cc/mk8f5X1d/image.png)](https://postimg.cc/xNJ4kPRH)

- **Event Container** 
[![image.png](https://i.postimg.cc/ZYcSnRsr/image.png)](https://postimg.cc/7bfcQxk6)

- **Animal Container** 
[![image.png](https://i.postimg.cc/65bxVPXq/image.png)](https://postimg.cc/SJ9PkDjb)

- **Adoption Container** 
[![image.png](https://i.postimg.cc/fR3n8vzK/image.png)](https://postimg.cc/w1dGvLsy)

## 4.9. Software Object-Oriented Design.

### 4.9.1. Class Diagrams.

[![image.png](https://i.postimg.cc/CKXM0GjP/image.png)](https://postimg.cc/xkGVybpM)

[![image.png](https://i.postimg.cc/dQnXTqfv/image.png)](https://postimg.cc/CdBJ3VY6)

[![image.png](https://i.postimg.cc/y8rshmr1/image.png)](https://postimg.cc/pm8wRFH4)



### 4.9.2. Class Dictionary.

### Entidades

#### UserEntity
**Descripción**: Representa a un usuario registrado en el sistema.
**Atributos**:
- `id`: Identificador único del usuario.
- `email`: Correo electrónico del usuario, utilizado para autenticación.
- `password`: Contraseña cifrada del usuario.
- `firstName`: Nombre del usuario.
- `lastName`: Apellido del usuario.
- `phoneNumber`: Número de teléfono de contacto.
- `role`: Rol del usuario en el sistema (ADMIN, OWNER, ADOPTER, ONG).
- `status`: Estado actual del usuario (ACTIVE, INACTIVE, SUSPENDED).
- `verified`: Indicador de si el usuario ha verificado su cuenta.
- `profileImageUrl`: URL de la imagen de perfil (opcional).
- `twoFactorEnabled`: Indicador de si el usuario tiene habilitada la autenticación de dos factores.

**Métodos**:
- `getId()`: Retorna el identificador único del usuario.
- `getEmail()`: Retorna el correo electrónico del usuario.
- `isActive()`: Verifica si el usuario está activo.
- `comparePassword(attempt)`: Compara la contraseña proporcionada con la almacenada.

#### AnimalEntity
**Descripción**: Representa a un animal registrado en el sistema, disponible para adopción o visita.
**Atributos**:
- `id`: Identificador único del animal.
- `name`: Nombre del animal.
- `type`: Tipo de animal (DOG, CAT, BIRD, RODENT, REPTILE, OTHER).
- `breed`: Raza o tipo específico del animal.
- `age`: Edad del animal en años.
- `gender`: Género del animal (MALE, FEMALE, UNKNOWN).
- `description`: Descripción detallada del animal.
- `ownerId`: Identificador del usuario propietario del animal.
- `images`: Lista de URLs de imágenes del animal.
- `status`: Estado actual del animal (AVAILABLE, RESERVED, ADOPTED, NOT_AVAILABLE).
- `availableForAdoption`: Indicador de si el animal está disponible para adopción.

**Métodos**:
- `getOwnerId()`: Retorna el identificador del propietario.
- `canBeAdopted()`: Verifica si el animal puede ser adoptado.
- `markAsAdopted()`: Marca el animal como adoptado.

#### AdoptionEntity
**Descripción**: Representa una solicitud de adopción o visita para un animal.
**Atributos**:
- `id`: Identificador único de la solicitud.
- `animalId`: Identificador del animal asociado.
- `ownerId`: Identificador del propietario del animal.
- `adopterId`: Identificador del usuario solicitante.
- `type`: Tipo de solicitud (ADOPTION, VISIT).
- `status`: Estado de la solicitud (PENDING, APPROVED, REJECTED, CANCELLED, COMPLETED).
- `requestDate`: Fecha de la solicitud.
- `visitDate`: Fecha programada para la visita (opcional).

**Métodos**:
- `approve()`: Aprueba la solicitud de adopción.
- `reject(notes?)`: Rechaza la solicitud, opcionalmente con notas.
- `isAdoption()`: Verifica si es una solicitud de adopción.
- `isPending()`: Verifica si la solicitud está pendiente.

#### OngEntity
**Descripción**: Representa una organización no gubernamental que participa en el sistema.
**Atributos**:
- `id`: Identificador único de la ONG.
- `userId`: Identificador del usuario asociado a la ONG.
- `name`: Nombre de la organización.
- `ruc`: Registro Único de Contribuyentes (RUC) de la organización.
- `verified`: Indicador de si la ONG está verificada.
- `bankAccount`: Información de cuenta bancaria (opcional).
- `logoUrl`: URL del logotipo de la ONG (opcional).

#### EventEntity
**Descripción**: Representa un evento organizado por una ONG.
**Atributos**:
- `id`: Identificador único del evento.
- `ongId`: Identificador de la ONG organizadora.
- `title`: Título del evento.
- `description`: Descripción detallada del evento.
- `eventDate`: Fecha y hora del evento.
- `location`: Ubicación del evento.
- `active`: Indicador de si el evento está activo.
- `isVolunteerEvent`: Indicador de si el evento busca voluntarios.

#### DonationEntity
**Descripción**: Representa una donación realizada a una ONG.
**Atributos**:
- `id`: Identificador único de la donación.
- `donorId`: Identificador del usuario donante.
- `ongId`: Identificador de la ONG receptora.
- `type`: Tipo de donación (MONETARY, ITEMS).
- `status`: Estado de la donación (PENDING, CONFIRMED, CANCELLED).
- `amount`: Monto donado (para donaciones monetarias).
- `confirmationDate`: Fecha de confirmación de la donación.

#### DonationItemEntity
**Descripción**: Representa un ítem específico de una donación material.
**Atributos**:
- `id`: Identificador único del ítem.
- `donationId`: Identificador de la donación a la que pertenece.
- `name`: Nombre del ítem.
- `quantity`: Cantidad donada.
- `description`: Descripción detallada del ítem (opcional).

#### NotificationEntity
**Descripción**: Representa una notificación enviada a un usuario.
**Atributos**:
- `id`: Identificador único de la notificación.
- `userId`: Identificador del usuario destinatario.
- `type`: Tipo de notificación (ADOPTION_REQUEST, ADOPTION_APPROVED, etc.).
- `title`: Título de la notificación.
- `message`: Contenido de la notificación.
- `read`: Indicador de si la notificación ha sido leída.
- `referenceId`: Identificador de referencia relacionado con la notificación.

#### AnimalImageEntity
**Descripción**: Representa una imagen asociada a un animal.
**Atributos**:
- `id`: Identificador único de la imagen.
- `animalId`: Identificador del animal asociado.
- `imageUrl`: URL de la imagen.
- `isPrimary`: Indicador de si es la imagen principal del animal.

### Repositorios

#### IBaseRepository
**Descripción**: Interfaz genérica que define las operaciones básicas de repositorio.
**Métodos**:
- `findAll(filters?)`: Recupera todas las entidades que cumplen con los filtros.
- `findById(id)`: Recupera una entidad por su identificador.
- `create(entity)`: Crea una nueva entidad.
- `update(id, entity)`: Actualiza una entidad existente.
- `delete(id)`: Elimina una entidad.

#### UserRepository
**Descripción**: Repositorio para operaciones relacionadas con usuarios.
**Métodos**:
- `findByEmail(email)`: Busca un usuario por su correo electrónico.
- `updateTwoFactorSecret(userId, secret)`: Actualiza el secreto de autenticación de dos factores.
- `verifyUser(userId)`: Marca un usuario como verificado.

#### AnimalRepository
**Descripción**: Repositorio para operaciones relacionadas con animales.
**Métodos**:
- `findByOwnerId(ownerId)`: Busca animales por propietario.
- `findAvailableForAdoption()`: Busca animales disponibles para adopción.

#### AdoptionRepository
**Descripción**: Repositorio para operaciones relacionadas con adopciones.
**Métodos**:
- `findByAnimalId(animalId)`: Busca solicitudes por animal.

- `findByAdopterId(adopterId)`: Busca solicitudes por adoptante.
- `findByOwnerId(ownerId)`: Busca solicitudes por propietario.

#### OngRepository
**Descripción**: Repositorio para operaciones relacionadas con ONGs.
**Métodos**:
- `findVerified()`: Busca ONGs verificadas.
- `findByUserId(userId)`: Busca una ONG por usuario.

#### EventRepository
**Descripción**: Repositorio para operaciones relacionadas con eventos.
**Métodos**:
- `findByOngId(ongId)`: Busca eventos por ONG.
- `findActiveEvents()`: Busca eventos activos.

#### DonationRepository
**Descripción**: Repositorio para operaciones relacionadas con donaciones.
**Métodos**:
- `findByDonorId(donorId)`: Busca donaciones por donante.
- `findByOngId(ongId)`: Busca donaciones por ONG.

#### NotificationRepository
**Descripción**: Repositorio para operaciones relacionadas con notificaciones.
**Métodos**:
- `findByUserId(userId)`: Busca notificaciones por usuario.
- `markAsRead(id)`: Marca una notificación como leída.

#### AnimalImageRepository
**Descripción**: Repositorio para operaciones relacionadas con imágenes de animales.
**Métodos**:
- `findByAnimalId(animalId)`: Busca imágenes por animal.
- `setPrimaryImage(imageId, animalId)`: Establece una imagen como principal.

### Servicios

#### S3Service
**Descripción**: Servicio para operaciones de almacenamiento en Amazon S3.
**Métodos**:
- `uploadFile(file, folder, originalName)`: Sube un archivo.
- `deleteFile(fileUrl)`: Elimina un archivo.
- `uploadMultipleFiles(files, folder, originalNames)`: Sube múltiples archivos.

#### TwoFactorAuthService
**Descripción**: Servicio para operaciones de autenticación de dos factores.
**Métodos**:
- `generateSecret()`: Genera un secreto para autenticación de dos factores.
- `verifyToken(token, secret)`: Verifica un token con un secreto.
- `generateQrCode(otpAuthUrl)`: Genera un código QR para autenticación.

#### NotificationService
**Descripción**: Servicio para operaciones de notificaciones.
**Métodos**:
- `create(dto)`: Crea una nueva notificación.
- `getByUserId(userId, unreadOnly)`: Obtiene notificaciones por usuario.
- `markAsRead(id, userId)`: Marca una notificación como leída.

#### EmailService
**Descripción**: Servicio para envío de correos electrónicos.
**Métodos**:
- `sendWelcomeEmail(user)`: Envía un correo de bienvenida.
- `sendAdoptionRequestEmail(adoption)`: Envía un correo de solicitud de adopción.
- `sendAdoptionApprovedEmail(adoption)`: Envía un correo de aprobación de adopción.
- `sendDonationConfirmationEmail(donation)`: Envía un correo de confirmación de donación.

#### JwtService
**Descripción**: Servicio para operaciones con JSON Web Tokens.
**Métodos**:
- `generateToken(payload)`: Genera un token JWT.
- `verifyToken(token)`: Verifica un token JWT.

### Casos de Uso

#### RegisterUserUseCase
**Descripción**: Caso de uso para registrar un nuevo usuario.
**Dependencias**:
- UserRepository
- S3Service
- EmailService
**Métodos**:
- `execute(registerUserDto)`: Ejecuta el registro de un nuevo usuario.

#### CreateAnimalUseCase
**Descripción**: Caso de uso para crear un nuevo animal.
**Dependencias**:
- AnimalRepository
- S3Service
- AnimalImageRepository
**Métodos**:
- `execute(createAnimalDto)`: Ejecuta la creación de un nuevo animal.

#### RequestAdoptionUseCase
**Descripción**: Caso de uso para solicitar una adopción.
**Dependencias**:
- AdoptionRepository
- AnimalRepository
- NotificationService
- EmailService
**Métodos**:
- `execute(requestAdoptionDto)`: Ejecuta la solicitud de adopción.

#### ApproveAdoptionUseCase
**Descripción**: Caso de uso para aprobar una solicitud de adopción.
**Dependencias**:
- AdoptionRepository
- AnimalRepository
- NotificationService
- EmailService
**Métodos**:
- `execute(approveAdoptionDto)`: Ejecuta la aprobación de una solicitud.

#### EnableTwoFactorAuthUseCase
**Descripción**: Caso de uso para habilitar la autenticación de dos factores.
**Dependencias**:
- UserRepository
- TwoFactorAuthService
**Métodos**:
- `execute(userId)`: Ejecuta la habilitación de autenticación de dos factores.

#### GetAnimalUseCase
**Descripción**: Caso de uso para obtener información de un animal.
**Dependencias**:
- AnimalRepository
- AnimalImageRepository
**Métodos**:
- `execute(animalId)`: Ejecuta la obtención de información de un animal.

#### DeleteAnimalUseCase
**Descripción**: Caso de uso para eliminar un animal.
**Dependencias**:
- AnimalRepository
- AnimalImageRepository
- S3Service
**Métodos**:
- `execute(animalId, userId)`: Ejecuta la eliminación de un animal.

#### CreateOngUseCase
**Descripción**: Caso de uso para crear una nueva ONG.
**Dependencias**:
- OngRepository
- UserRepository
- S3Service
**Métodos**:
- `execute(createOngDto)`: Ejecuta la creación de una nueva ONG.

#### CreateEventUseCase
**Descripción**: Caso de uso para crear un nuevo evento.
**Dependencias**:
- EventRepository
- OngRepository
- NotificationService
**Métodos**:
- `execute(createEventDto)`: Ejecuta la creación de un nuevo evento.

#### CreateDonationUseCase
**Descripción**: Caso de uso para crear una nueva donación.
**Dependencias**:
- DonationRepository
- OngRepository
- NotificationService
- EmailService
**Métodos**:
- `execute(createDonationDto)`: Ejecuta la creación de una nueva donación.

### Controladores

#### AuthController
**Descripción**: Controlador para operaciones de autenticación.
**Dependencias**:
- RegisterUserUseCase
- EnableTwoFactorAuthUseCase
- JwtService
**Métodos**:
- `register(registerDto)`: Registra un nuevo usuario.
- `login(loginDto)`: Inicia sesión de usuario.
- `enableTwoFactorAuth(user)`: Habilita la autenticación de dos factores.

#### AnimalController
**Descripción**: Controlador para operaciones relacionadas con animales.
**Dependencias**:
- CreateAnimalUseCase
- GetAnimalUseCase
- DeleteAnimalUseCase
**Métodos**:
- `getAvailableAnimals(type, breed)`: Obtiene animales disponibles para adopción.
- `createAnimal(createAnimalDto, images, user)`: Crea un nuevo animal.

#### AdoptionController
**Descripción**: Controlador para operaciones relacionadas con adopciones.
**Dependencias**:
- RequestAdoptionUseCase
- ApproveAdoptionUseCase
**Métodos**:
- `requestAdoption(requestAdoptionDto, user)`: Solicita una adopción.
- `approveAdoption(id, approveAdoptionDto, user)`: Aprueba una solicitud de adopción.

#### OngController
**Descripción**: Controlador para operaciones relacionadas con ONGs.
**Dependencias**:
- CreateOngUseCase
- GetOngUseCase
**Métodos**:
- `createOng(createOngDto, logo, user)`: Crea una nueva ONG.
- `getVerifiedOngs()`: Obtiene ONGs verificadas.

#### EventController
**Descripción**: Controlador para operaciones relacionadas con eventos.
**Dependencias**:
- CreateEventUseCase
- GetEventUseCase
**Métodos**:
- `createEvent(createEventDto, user)`: Crea un nuevo evento.
- `getOngEvents(ongId)`: Obtiene eventos de una ONG.

#### DonationController
**Descripción**: Controlador para operaciones relacionadas con donaciones.
**Dependencias**:
- CreateDonationUseCase
- GetDonationUseCase
**Métodos**:
- `createDonation(createDonationDto, user)`: Crea una nueva donación.
- `getUserDonations(user)`: Obtiene donaciones de un usuario.

#### NotificationController
**Descripción**: Controlador para operaciones relacionadas con notificaciones.
**Dependencias**:
- NotificationService
**Métodos**:
- `getUserNotifications(user, unreadOnly)`: Obtiene notificaciones de un usuario.
- `markAsRead(id, user)`: Marca una notificación como leída.

### Enumeraciones

#### UserRole
**Valores**:
- ADMIN: Administrador del sistema.
- OWNER: Propietario de animales.
- ADOPTER: Usuario interesado en adoptar.
- ONG: Organización no gubernamental.

#### UserStatus
**Valores**:
- ACTIVE: Usuario activo.
- INACTIVE: Usuario inactivo.
- SUSPENDED: Usuario suspendido.

#### AnimalType
**Valores**:
- DOG: Perro.
- CAT: Gato.
- BIRD: Ave.
- RODENT: Roedor.
- REPTILE: Reptil.
- OTHER: Otro tipo.

#### AnimalGender
**Valores**:
- MALE: Macho.
- FEMALE: Hembra.
- UNKNOWN: Desconocido.

#### AnimalStatus
**Valores**:
- AVAILABLE: Disponible para adopción.
- RESERVED: Reservado.
- ADOPTED: Adoptado.
- NOT_AVAILABLE: No disponible.

#### AdoptionType
**Valores**:
- ADOPTION: Solicitud de adopción.
- VISIT: Solicitud de visita.

#### AdoptionStatus
**Valores**:
- PENDING: Pendiente.
- APPROVED: Aprobada.
- REJECTED: Rechazada.
- CANCELLED: Cancelada.
- COMPLETED: Completada.

#### DonationType
**Valores**:
- MONETARY: Donación monetaria.
- ITEMS: Donación de artículos.

#### DonationStatus
**Valores**:
- PENDING: Pendiente.
- CONFIRMED: Confirmada.
- CANCELLED: Cancelada.

#### NotificationType
**Valores**:
- ADOPTION_REQUEST: Solicitud de adopción.
- ADOPTION_APPROVED: Adopción aprobada.
- ADOPTION_REJECTED: Adopción rechazada.
- DONATION_RECEIVED: Donación recibida.
- EVENT_CREATED: Evento creado.
- SYSTEM: Notificación del sistema.


## 4.10. Database Design.
### 4.10.1. Relational/Non-Relational Database Diagram.
[![Hairy-Paws-DB-Diagram.png](https://i.postimg.cc/Y0V80Y5r/Hairy-Paws-DB-Diagram.png)](https://postimg.cc/jnHykwqm)

